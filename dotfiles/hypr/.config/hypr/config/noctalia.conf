# --- Noctalia shell bindings (ported from niri) ---

# Autostarts
exec-once = ~/.config/hypr/scripts/reload_bar.sh

# Hard-override any earlier bindings for these combos
unbind = ALT, SPACE
unbind = $mainMod, COMMA
unbind = , XF86AudioRaiseVolume
unbind = , XF86AudioLowerVolume
unbind = , XF86AudioMute
unbind = , XF86AudioMicMute
unbind = , XF86MonBrightnessUp
unbind = , XF86MonBrightnessDown
unbind = $mainMod, N
unbind = $mainMod ALT, W
unbind = $mainMod, ESCAPE
unbind = $mainMod, A
unbind = $mainMod, V
unbind = $mainMod, PERIOD
unbind = ALT, F4

# Launcher
bind = ALT, SPACE, exec, qs -c noctalia-shell ipc call launcher toggle # [SHELL:noctalia] Toggle app launcher

# Shell settings
bind = $mainMod, COMMA, exec, qs -c noctalia-shell ipc call settings toggle # [SHELL:noctalia] Toggle shell settings

# Audio (allow-when-locked=true -> use bindl)
# e at the end: allows the binding to repeat while you hold the key down
bindel = , XF86AudioRaiseVolume, exec, sh -lc "qs -c noctalia-shell ipc call volume increase; paplay /usr/share/sounds/ocean/stereo/audio-volume-change.oga" # [SHELL:noctalia] Increase volume with feedback sound
bindel = , XF86AudioLowerVolume, exec, sh -lc "qs -c noctalia-shell ipc call volume decrease; paplay /usr/share/sounds/ocean/stereo/audio-volume-change.oga" # [SHELL:noctalia] Decrease volume with feedback sound
bindel = , XF86AudioMute, exec, qs -c noctalia-shell ipc call volume muteOutput # [SHELL:noctalia] Toggle output mute
bindel = , XF86AudioMicMute, exec, qs -c noctalia-shell ipc call volume muteInput # [SHELL:noctalia] Toggle microphone mute

# Backlight (allow-when-locked=true -> use bindl)
# e at the end: allows the binding to repeat while you hold the key down
bindel = , XF86MonBrightnessUp, exec, qs -c noctalia-shell ipc call brightness increase # [SHELL:noctalia] Increase screen brightness
bindel = , XF86MonBrightnessDown, exec, qs -c noctalia-shell ipc call brightness decrease # [SHELL:noctalia] Decrease screen brightness

# Noctalia panels
bind = $mainMod, N, exec, sh -lc "qs -c noctalia-shell ipc call notifications toggleHistory" # [SHELL:noctalia] Toggle notification history
bind = $mainMod ALT, W, exec, sh -lc "qs -c noctalia-shell ipc call wallpaper toggle" # [SHELL:noctalia] Toggle wallpaper panel
bind = $mainMod, ESCAPE, exec, sh -lc "qs -c noctalia-shell ipc call lockScreen lock" # [SHELL:noctalia] Lock the session
bind = $mainMod, A, exec, sh -lc "qs -c noctalia-shell ipc call controlCenter toggle" # [SHELL:noctalia] Toggle control center
bind = $mainMod, V, exec, qs -c noctalia-shell ipc call launcher clipboard # [SHELL:noctalia] Open clipboard launcher
bind = $mainMod, PERIOD, exec, qs -c noctalia-shell ipc call launcher emoji # [SHELL:noctalia] Open emoji picker
bind = ALT, F4, exec, qs -c noctalia-shell ipc call sessionMenu toggle # [SHELL:noctalia] Toggle session menu

# Layerrules
layerrule {
  name = noctalia
  match:namespace = noctalia.*
  blur = on
  ignore_alpha = 0.2
}

