# --- Noctalia shell bindings (ported from niri) ---

# Autostarts
exec-once = ~/.config/hypr/scripts/reload_bar.sh

# Hard-override any earlier bindings for these combos
unbind = ALT, SPACE
unbind = $mainMod, COMMA
unbind = , XF86AudioRaiseVolume
unbind = , XF86AudioLowerVolume
unbind = , XF86AudioMute
unbind = , XF86AudioMicMute
unbind = , XF86MonBrightnessUp
unbind = , XF86MonBrightnessDown
unbind = $mainMod, N
unbind = $mainMod ALT, W
unbind = $mainMod, ESCAPE
unbind = $mainMod, A
unbind = $mainMod, V
unbind = $mainMod, PERIOD
unbind = ALT, F4

# Launcher
bind = ALT, SPACE, exec, qs -c noctalia-shell ipc call launcher toggle

# Shell settings
bind = $mainMod, COMMA, exec, qs -c noctalia-shell ipc call settings toggle

# Audio (allow-when-locked=true -> use bindl)
bindl = , XF86AudioRaiseVolume, exec, sh -lc "qs -c noctalia-shell ipc call volume increase; paplay /usr/share/sounds/ocean/stereo/audio-volume-change.oga"
bindl = , XF86AudioLowerVolume, exec, sh -lc "qs -c noctalia-shell ipc call volume decrease; paplay /usr/share/sounds/ocean/stereo/audio-volume-change.oga"
bindl = , XF86AudioMute, exec, qs -c noctalia-shell ipc call volume muteOutput
bindl = , XF86AudioMicMute, exec, qs -c noctalia-shell ipc call volume muteInput

# Backlight (allow-when-locked=true -> use bindl)
bindl = , XF86MonBrightnessUp, exec, qs -c noctalia-shell ipc call brightness increase
bindl = , XF86MonBrightnessDown, exec, qs -c noctalia-shell ipc call brightness decrease

# Noctalia panels
bind = $mainMod, N, exec, sh -lc "qs -c noctalia-shell ipc call notifications toggleHistory"
bind = $mainMod ALT, W, exec, sh -lc "qs -c noctalia-shell ipc call wallpaper toggle"
bind = $mainMod, ESCAPE, exec, sh -lc "qs -c noctalia-shell ipc call lockScreen lock"
bind = $mainMod, A, exec, sh -lc "qs -c noctalia-shell ipc call controlCenter toggle"
bind = $mainMod, V, exec, qs -c noctalia-shell ipc call launcher clipboard
bind = $mainMod, PERIOD, exec, qs -c noctalia-shell ipc call launcher emoji
bind = ALT, F4, exec, qs -c noctalia-shell ipc call sessionMenu toggle

# Layerrules
layerrule {
  name = noctalia
  match:namespace = noctalia.*
  blur = on
  ignore_alpha = 0.2
}

