##############################
### WINDOWS AND WORKSPACES ###
##############################

# See https://wiki.hyprland.org/Configuring/Window-Rules/ for more
# See https://wiki.hyprland.org/Configuring/Workspace-Rules/ for workspace rules

# Example windowrule
# windowrule {
#   name = kitty
#   match:class = ^(kitty)$
#   match:title = ^(kitty)$
#   float = on
# }

# Ignore maximize requests from apps. You'll probably like this.
windowrule {
  name = ignore-maximize-requests-from-apps
  match:class = .*
  suppress_event = maximize
}

# Fix some dragging issues with XWayland
windowrule {
  name = fix-draggging-issues-xwayland
  match:class = ^$
  match:title = ^$
  match:xwayland = 1
  match:float = 1
  match:fullscreen = 0
  match:pin = 0
  no_focus = on
}

# To figure out the title or calls of a window to these:
# Run this command while the window is open:
# hypr clients

# Windowrules for HyprEmojis
$hypr_emojis_class = ^(HyprEmoji)$
windowrule {
  name = hypr-emojis
  match:title = $hypr_emojis_class
  float = on
}

# Move window -410 pixels from left and -310 pixels from down
# windowrule = move 100%-410 100%-310, title:^(HyprEmoji)$
# windowrule = size 400 300, title:^(HyprEmoji)$

# GNOME System Monitor - Floating
$system_monitor_class = ^(org.gnome.SystemMonitor)$
windowrule {
  name = system-monitor
  match:class = $system_monitor_class
  float = on
  size = 900 600
}

# Mission Center - Floating
$mission_center_class = ^(io.missioncenter.MissionCenter)$
windowrule {
  name = mission-center
  match:class = $mission_center_class
  size = 1200 700
  animation = slide down
}

# Windowrules for Sticky Notes
$sticky_class = ^(com.vixalien.sticky)$
windowrule {
  name = sticky
  match:class = $sticky_class
  float = on
  size = 300 300
  move = 100%-350 5%
}

# Windowrules for btop
$btop_class = ^(btop)$
windowrule {
  name = btop
  match:class = $btop_class
  float = on
  size = 1000 800
}

# Windowrules for yazi
$yazi_class = ^(yazi)$
windowrule {
  name = yazi
  match:class = $yazi_class
  float = on
  size = 800 500
}

# kitty-dropterm
$kitty_dropterm_class = ^(kitty-dropterm)$
windowrule {
  name = kitty-dropterm
  match:class = $kitty_dropterm_class
  float = on
  size = 800 500
}

# Zen browser save as windowrule
windowrule {
  name = zen-save-as
  match:class = zen
  match:title = Save As
  size = 400 500
}

# showmethekey windowrules
# windowrule = float, class:^(one.alynx.showmethekey)$ # float the settings panel
# windowrule = size 500 400, class:^(one.alynx.showmethekey)$ # resize settings panel
$showmethekey_class = ^(showmethekey-gtk)$
windowrule {
  name = showmethekey-gtk
  match:class = $showmethekey_class
  float = on # make window floating
  pin = on # pin window
  no_focus = on # nofocus window
  size = 150 70
  move = 100%-160 100%-80
  opacity = 1.0 override # If you don't mention override, it will be the multiplier
  no_dim = on
}

# NM GUI
$nm_gui_title = ^(.*Network Manager.*)$
windowrule {
  name = nm-gui
  match:title = $nm_gui_title
  float = on
}

# Nautilus
$nautilus_class = org.gnome.Nautilus
windowrule {
  name = nautilus
  match:class = $nautilus_class
  float = on
  # center = on
  size = (monitor_w*0.6) (monitor_h*0.7)
  move = (monitor_w-window_w)*0.5 (monitor_h*0.1)
  animation = slide top
}

# nemo
$nemo_class = nemo
windowrule {
  name = nemo
  match:class = $nemo_class
  float = on
  size = 900 600
  animation = slide top
}

# Clipse
$clipse_float = (clipse)
windowrule {
  name = clipse
  match:class = $clipse_float
  size = 622 652
  stay_focused = on
}

# Clipse GUI
$clipse_gui_class = (clipse-gui)
windowrule {
  name = clipse-gui
  match:class = $clipse_gui_class
  float = on
  size = 400 650
  stay_focused = on
  animation = slide right
  move = 100%-410 30
}

# Gnome Settings
$gnome_settings_class = (org.gnome.Settings)
windowrule {
  name = gnome-settings
  match:class = $gnome_settings_class
  float = on
  size = 900 600
  animation = slide top
}

# Overskride
$overskride_class = (io.github.kaii_lb.Overskride)
windowrule {
  name = overskride
  match:class = $overskride_class
  float = on
  size = 900 600
  animation = slide top
}

# Better Control
$better_control_class = (better_control.py)
windowrule {
  name = better-control
  match:class = $better_control_class
  float = on
  size = 1000 600
  animation = slide top
}

# GNOME Calendar
$gnome_calendar_class = (org.gnome.Calendar)
windowrule {
  name = gnome-calendar
  match:class = $gnome_calendar_class
  float = on
  size = 900 600
  animation = slide top
}


# Wordbook dictionary
$wordbook_class = dev.mufeed.Wordbook
windowrule {
  name = wordbook-dictionary
  match:class = $wordbook_class
  float = on
  size = 900 600
  animation = slide top
}

# uGet
$uget_class = (uget-gtk)
windowrule {
  name = uget-gtk
  match:class = $uget_class
  float = on
  size = 900 600
  animation = slide top
}

# hyprland-share-picker
$share_picker_class = hyprland-share-picker
windowrule {
  name = hyprland-share-picker
  match:class = $share_picker_class
  float = on
  size = 600 600
  animation = slide top
}

# Waypaper windowrules
$waypaper_class = ^(waypaper)$
windowrule {
  name = waypaper
  match:class = $waypaper_class
  float = on
  size = 900 700
}

# Layer-rules
# See https://wiki.hypr.land/Configuring/Window-Rules/#layer-rules

# blur popups
layerrule = blur_popups on

# rofi
layerrule {
  name = rofi
  match:namespace = rofi
  blur = on
  ignore_alpha = 0.5 # For rounding edge problems on rofi
  animation = slide down
}

# Vicinae
layerrule {
  name = vicinae
  match:namespace = vicinae
  blur = on
  ignore_alpha = 0.5 # For rounding edge problems on rofi
  animation = slide down
  # noanim = on
}

# Hyprpanel blur
## bar
layerrule {
  name = hyprpanel-bar
  match:namespace = bar-0
  blur = on
  ignore_alpha = 0.3
}

## notifications-wondow
layerrule {
  name = hyprpanel-notifications
  match:namespace = notifications-window
  blur = on
  ignore_alpha = 0.4
}

## OSD
layerrule {
  name = hyprpanel-osd
  match:namespace = indicator
  blur = on
  ignore_alpha = 0.8
}

# Don't allow idle on fullscreen windows
windowrule {
  name = no-idle-fullscreen
  match:class = .*
  idle_inhibit = fullscreen
}

# waybar blur
layerrule {
  name = waybar
  match:namespace = waybar
  blur = on
  ignore_alpha = 0.2
}

# ashell blur
layerrule {
  name = ashell
  match:namespace = ashell-main-layer
  blur = on
  ignore_alpha = 0.4
}

# hypr-dock
layerrule {
  name = hypr-dock
  match:namespace = hypr-dock
  blur = on
  ignore_alpha = 0.2
}

# swaync blur
## panel
layerrule {
  name = swaync-control-center
  match:namespace = swaync-control-center
  blur = on
  animation = slide right
  ignore_alpha = 0.4
}

## notification popup
layerrule {
  name = swaync-notification-window
  match:namespace = swaync-notification-window
  blur = on
  animation = slide right
  ignore_alpha = 0.4
}

# swayosd blur
layerrule {
  name = swayosd
  match:namespace = swayosd
  blur = on
  animation = slide up
  ignore_alpha = 0.39
}

# Pyprland expose special workspace
workspace = special:exposed, gapsout:10, gapsin:10, bordersize:5, border:true, shadow:false

